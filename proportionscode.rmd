---
title: "Proportions"
author: "Me"
date: "3/22/2018"
output: word_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
master = read.csv("outliers complete.csv")
```

```{r proportions}
master$mention.outliers
table(master$mention.outliers)
master$mention.outliers = factor(master$mention.outliers,
                      levels = c("no", "yes"),
                      labels = c("No", "Yes"))
table(master$mention.outliers, master$time.pulled, master$Type)

#no
1688/2230 
#0.7569507

#yes
541/2230
#0.2426009
```

```{r reason}
master$reason.code

##for 2012 yes what are the reasons
##erin add grep code here 

##for 2017 what are the reasons



```

```{r Peopledata}
master$people.or.data.points
master$people.or.data.points = factor(master$people.or.data.points,
                      levels = c("", "both", "data points", "data points ", "none found", "people", "people "),
                      labels = c("None", "Both", "Data Points", "Data Points ", "None Found", "People", "People "))

table(master$people.or.data.points)


```

```{r BasicsBayes}

##if they are doing basic statistics so equals 1 how many times do they mention outliers yes/no by year 
master$Basics
table(master$Basics, master$time.pulled, master$mention.outliers)


```

```{r journalgraph}
library(ggplot2)

theme = theme(panel.grid.major = element_blank(), 
              panel.grid.minor = element_blank(), 
              panel.background = element_blank(), 
              axis.line = element_line(colour = "black"), 
              legend.key = element_rect(fill = "white"),
              text = element_text(size = 15))
 
bargraph = ggplot(master, aes(Type, , fill = time.pulled))
bargraph +
  stat_summary(fun.x = mean, 
               geom = "bar", 
               position="dodge") + 
  stat_summary(fun.data = mean_cl_normal, 
               geom = "errorbar", 
               position = position_dodge(width = 0.90), 
               width = 0.2) + 
  theme +
  xlab("Journal") +
  ylab("Proportion") + 
  coord_cartesian(ylim = c(0,1))+
  theme(axis.text.x = element_text(angle = 60, hjust = 1))
```

```{r journalprop}
table(master$time.pulled)

#2012
1085/2231

#2017
1146/2231

library(MOTE)
#overall
d.prop(p1 = 0.486329, p2 = 0.513671, n1 = 1085, n2 = 1146, a = .05)
```

